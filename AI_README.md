# üß† AI –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, –æ–±—É—á–µ–Ω–∏—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã AI –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –≤ VrachiAP.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- [–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π](#–æ–±—É—á–µ–Ω–∏–µ-–º–æ–¥–µ–ª–µ–π)
- [–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö](#—Å–±–æ—Ä-–¥–∞–Ω–Ω—ã—Ö)
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π)

## üéØ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

AI —Å–∏—Å—Ç–µ–º–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —Å–∏–º–ø—Ç–æ–º–æ–≤ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
backend/ai_service/
‚îú‚îÄ‚îÄ __init__.py           # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å AI —Å –∫–ª–∞—Å—Å–æ–º AIService
‚îú‚îÄ‚îÄ data_collector.py     # –°–±–æ—Ä –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
‚îú‚îÄ‚îÄ inference.py          # –ú–æ–¥—É–ª—å –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ model_trainer.py      # –û–±—É—á–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
‚îú‚îÄ‚îÄ utils.py              # –£—Ç–∏–ª–∏—Ç—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îî‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è AI
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–æ–¥–µ–ª–∏

- **BiomedNLP-PubMedBERT** - –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤
- **Symptom Classifier** - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–∏–º–ø—Ç–æ–º–æ–≤ (sklearn)
- **Disease Classifier** - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π (sklearn)
- **Medical Text Processor** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd backend
pip install -r ai_service/requirements.txt
```

### 2. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –º–æ–¥–µ–ª–µ–π
mkdir -p ai_service/models
mkdir -p ai_service/data

# –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
python -c "from ai_service.model_trainer import ModelTrainer; ModelTrainer().download_pretrained_models()"
```

### 3. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
python -c "from ai_service.data_collector import DataCollector; DataCollector().collect_all_sources(limit=1000)"
```

### 4. –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

```bash
# –û–±—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
python -c "from ai_service.model_trainer import ModelTrainer; ModelTrainer().train_all_models()"
```

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç AI —Å–µ—Ä–≤–∏—Å–∞
python -c "
from ai_service import AIService
ai = AIService()
result = ai.analyze_symptoms('—É –º–µ–Ω—è –±–æ–ª–∏—Ç –≥–æ–ª–æ–≤–∞ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞')
print(result)
"
```

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python**: 3.8+
- **RAM**: –º–∏–Ω–∏–º—É–º 8GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 16GB)
- **GPU**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è
- **–î–∏—Å–∫**: 10GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ AI –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
pip install torch torchvision torchaudio
pip install transformers
pip install scikit-learn
pip install pandas numpy

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install requests beautifulsoup4 lxml
pip install aiohttp asyncio
pip install matplotlib seaborn
pip install python-dotenv
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `backend/.env` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:

```env
# AI Configuration
AI_MODEL_PATH=./ai_service/models/
AI_DATA_PATH=./ai_service/data/
HUGGING_FACE_TOKEN=your_token_here

# Model Settings
DEFAULT_MODEL_NAME=microsoft/BiomedNLP-PubMedBERT-base-uncased-abstract-fulltext
MAX_SEQUENCE_LENGTH=512
BATCH_SIZE=16

# Data Collection
DATA_COLLECTION_ENABLED=true
MAX_ARTICLES_PER_SOURCE=1000
UPDATE_INTERVAL_HOURS=24

# Performance
USE_GPU=true
ENABLE_CACHING=true
CACHE_SIZE=1000
```

## üéì –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### –ß–µ—Ä–µ–∑ API (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)

```bash
# –û–±—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
curl -X POST "http://localhost:8000/api/ai/admin/train" \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "model_type": "all",
    "epochs": 10,
    "learning_rate": 0.001,
    "batch_size": 16
  }'

# –û–±—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏
curl -X POST "http://localhost:8000/api/ai/admin/train" \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "model_type": "symptom_classifier",
    "epochs": 5
  }'
```

#### –ß–µ—Ä–µ–∑ Python

```python
from backend.ai_service.model_trainer import ModelTrainer

trainer = ModelTrainer()

# –û–±—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
trainer.train_all_models()

# –û–±—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
trainer.train_symptom_classifier(epochs=10)
trainer.train_disease_classifier(epochs=10)
trainer.train_medical_transformer(epochs=5)
```

### –†—É—á–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

#### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```python
from backend.ai_service.data_collector import DataCollector

collector = DataCollector()

# –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
data = collector.collect_training_data()
print(f"–°–æ–±—Ä–∞–Ω–æ {len(data)} –æ–±—Ä–∞–∑—Ü–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è")
```

#### 2. –û–±—É—á–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Å–∏–º–ø—Ç–æ–º–æ–≤

```python
from backend.ai_service.model_trainer import ModelTrainer

trainer = ModelTrainer()

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
config = {
    'epochs': 10,
    'learning_rate': 0.001,
    'batch_size': 16,
    'validation_split': 0.2
}

# –û–±—É—á–µ–Ω–∏–µ
trainer.train_symptom_classifier(**config)
```

#### 3. –û–±—É—á–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π

```python
trainer.train_disease_classifier(
    epochs=15,
    learning_rate=0.0005,
    use_pretrained=True
)
```

#### 4. –û–±—É—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–∞

```python
trainer.train_medical_transformer(
    model_name='microsoft/BiomedNLP-PubMedBERT-base-uncased-abstract-fulltext',
    epochs=5,
    learning_rate=2e-5
)
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—É—á–µ–Ω–∏—è

```python
# –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
advanced_config = {
    'model_type': 'symptom_classifier',
    'architecture': 'random_forest',
    'hyperparameters': {
        'n_estimators': 100,
        'max_depth': 10,
        'random_state': 42
    },
    'cross_validation': True,
    'cv_folds': 5,
    'feature_selection': True,
    'optimize_hyperparameters': True
}

trainer.train_with_config(advanced_config)
```

## üìä –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä

#### –ß–µ—Ä–µ–∑ API

```bash
# –°–±–æ—Ä –∏–∑ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
curl -X POST "http://localhost:8000/api/ai/admin/collect-data" \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "sources": ["mayo_clinic", "webmd", "pubmed", "russian_medical"],
    "limit": 1000,
    "languages": ["en", "ru", "uz"]
  }'
```

#### –ß–µ—Ä–µ–∑ Python

```python
from backend.ai_service.data_collector import DataCollector

collector = DataCollector()

# –°–±–æ—Ä –∏–∑ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
collector.collect_all_sources(limit=1000)

# –°–±–æ—Ä –∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
collector.collect_mayo_clinic_data(limit=500)
collector.collect_webmd_data(limit=500)
collector.collect_pubmed_data(limit=200)
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

#### –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- **Mayo Clinic** (`mayo_clinic`)
  - URL: https://www.mayoclinic.org
  - –î–∞–Ω–Ω—ã–µ: –°–∏–º–ø—Ç–æ–º—ã, –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è, –ª–µ—á–µ–Ω–∏–µ
  - –Ø–∑—ã–∫: –ê–Ω–≥–ª–∏–π—Å–∫–∏–π

- **WebMD** (`webmd`)
  - URL: https://www.webmd.com
  - –î–∞–Ω–Ω—ã–µ: –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Å—Ç–∞—Ç—å–∏, —Å–∏–º–ø—Ç–æ–º—ã
  - –Ø–∑—ã–∫: –ê–Ω–≥–ª–∏–π—Å–∫–∏–π

- **PubMed** (`pubmed`)
  - URL: https://pubmed.ncbi.nlm.nih.gov
  - –î–∞–Ω–Ω—ã–µ: –ù–∞—É—á–Ω—ã–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
  - –Ø–∑—ã–∫: –ê–Ω–≥–ª–∏–π—Å–∫–∏–π

#### –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- **–í–∏–∫–∏–ø–µ–¥–∏—è** (`wikipedia_ru`)
  - URL: https://ru.wikipedia.org
  - –î–∞–Ω–Ω—ã–µ: –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Å—Ç–∞—Ç—å–∏
  - –Ø–∑—ã–∫: –†—É—Å—Å–∫–∏–π

- **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π** (`diseases_ru`)
  - URL: https://diseases.ru
  - –î–∞–Ω–Ω—ã–µ: –û–ø–∏—Å–∞–Ω–∏—è –±–æ–ª–µ–∑–Ω–µ–π
  - –Ø–∑—ã–∫: –†—É—Å—Å–∫–∏–π

#### –£–∑–±–µ–∫—Å–∫–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

- **Medical.uz** (`medical_uz`)
  - URL: https://medical.uz
  - –î–∞–Ω–Ω—ã–µ: –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  - –Ø–∑—ã–∫: –£–∑–±–µ–∫—Å–∫–∏–π

### –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

```python
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
class CustomDataCollector(DataCollector):
    def collect_custom_source(self, url, limit=100):
        """–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞"""
        articles = []
        
        # –í–∞—à –∫–æ–¥ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
        response = self.session.get(url)
        # ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        
        return articles

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
collector = CustomDataCollector()
data = collector.collect_custom_source('https://example.com')
```

## üìö API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤

#### –ê–Ω–∞–ª–∏–∑ —Å–∏–º–ø—Ç–æ–º–æ–≤

```http
POST /api/ai/diagnosis
Content-Type: application/json
Authorization: Bearer YOUR_TOKEN

{
  "symptoms_description": "–£ –º–µ–Ω—è –±–æ–ª–∏—Ç –≥–æ–ª–æ–≤–∞ —É–∂–µ 3 –¥–Ω—è, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 38.2¬∞C, —Å–ª–∞–±–æ—Å—Ç—å –∏ —Ç–æ—à–Ω–æ—Ç–∞",
  "patient_age": 28,
  "patient_gender": "female",
  "additional_info": "–°–∏–º–ø—Ç–æ–º—ã —É—Å–∏–ª–∏–ª–∏—Å—å –ø–æ—Å–ª–µ —Å—Ç—Ä–µ—Å—Å–∞ –Ω–∞ —Ä–∞–±–æ—Ç–µ"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "analysis_id": "ai_diag_123456",
    "detected_symptoms": [
      {
        "name": "–≥–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å",
        "confidence": 0.95,
        "severity": "moderate"
      },
      {
        "name": "–ª–∏—Ö–æ—Ä–∞–¥–∫–∞",
        "confidence": 0.87,
        "severity": "high"
      },
      {
        "name": "—Ç–æ—à–Ω–æ—Ç–∞",
        "confidence": 0.73,
        "severity": "low"
      }
    ],
    "possible_diseases": [
      {
        "name": "–º–∏–≥—Ä–µ–Ω—å",
        "confidence": 0.78,
        "urgency": "medium",
        "description": "–°–∏–ª—å–Ω–∞—è –≥–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å, —á–∞—Å—Ç–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è —Ç–æ—à–Ω–æ—Ç–æ–π"
      },
      {
        "name": "–≥—Ä–∏–ø–ø",
        "confidence": 0.65,
        "urgency": "high",
        "description": "–í–∏—Ä—É—Å–Ω–∞—è –∏–Ω—Ñ–µ–∫—Ü–∏—è —Å –ª–∏—Ö–æ—Ä–∞–¥–∫–æ–π –∏ –æ–±—â–∏–º–∏ —Å–∏–º–ø—Ç–æ–º–∞–º–∏"
      }
    ],
    "recommendations": [
      "–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ç–µ—Ä–∞–ø–µ–≤—Ç—É –¥–ª—è —Ç–æ—á–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏",
      "–ü–µ–π—Ç–µ –±–æ–ª—å—à–µ –∂–∏–¥–∫–æ—Å—Ç–∏",
      "–û—Ç–¥—ã—Ö–∞–π—Ç–µ –∏ –∏–∑–±–µ–≥–∞–π—Ç–µ —Å—Ç—Ä–µ—Å—Å–∞",
      "–ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ –∂–∞—Ä–æ–ø–æ–Ω–∏–∂–∞—é—â–∏–µ –ø—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –≤—ã—à–µ 38.5¬∞C"
    ],
    "urgency_level": "medium",
    "confidence_score": 0.82,
    "next_steps": [
      "–ù–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ —Å–∏–º–ø—Ç–æ–º–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤",
      "–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É –µ—Å–ª–∏ —Å–∏–º–ø—Ç–æ–º—ã —É—Ö—É–¥—à–∞—Ç—Å—è"
    ]
  }
}
```

#### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–∏

```http
GET /api/ai/disease/{disease_name}
Authorization: Bearer YOUR_TOKEN
```

**–ü—Ä–∏–º–µ—Ä:**
```http
GET /api/ai/disease/–≥—Ä–∏–ø–ø
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "name": "–≥—Ä–∏–ø–ø",
    "description": "–û—Å—Ç—Ä–∞—è –≤–∏—Ä—É—Å–Ω–∞—è –∏–Ω—Ñ–µ–∫—Ü–∏—è –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π",
    "symptoms": [
      "–≤—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞",
      "–≥–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å",
      "–º—ã—à–µ—á–Ω—ã–µ –±–æ–ª–∏",
      "–∫–∞—à–µ–ª—å",
      "—Å–ª–∞–±–æ—Å—Ç—å"
    ],
    "causes": [
      "–≤–∏—Ä—É—Å—ã –≥—Ä–∏–ø–ø–∞ —Ç–∏–ø–∞ A, B, C"
    ],
    "treatment": [
      "–ø–æ–∫–æ–π –∏ –æ–±–∏–ª—å–Ω–æ–µ –ø–∏—Ç—å–µ",
      "–∂–∞—Ä–æ–ø–æ–Ω–∏–∂–∞—é—â–∏–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã",
      "–ø—Ä–æ—Ç–∏–≤–æ–≤–∏—Ä—É—Å–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞"
    ],
    "prevention": [
      "–≤–∞–∫—Ü–∏–Ω–∞—Ü–∏—è",
      "–∏–∑–±–µ–≥–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –±–æ–ª—å–Ω—ã–º–∏",
      "—Å–æ–±–ª—é–¥–µ–Ω–∏–µ –≥–∏–≥–∏–µ–Ω—ã —Ä—É–∫"
    ],
    "when_to_see_doctor": [
      "—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤—ã—à–µ 39¬∞C",
      "–∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ",
      "—Å–∏–º–ø—Ç–æ–º—ã –¥–ª—è—Ç—Å—è –±–æ–ª–µ–µ 7 –¥–Ω–µ–π"
    ]
  }
}
```

#### –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```http
GET /api/ai/patient/history
Authorization: Bearer YOUR_TOKEN
```

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

```http
POST /api/ai/admin/train
Authorization: Bearer ADMIN_TOKEN
Content-Type: application/json

{
  "model_type": "symptom_classifier",
  "epochs": 10,
  "learning_rate": 0.001,
  "batch_size": 16,
  "validation_split": 0.2
}
```

#### –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

```http
POST /api/ai/admin/collect-data
Authorization: Bearer ADMIN_TOKEN
Content-Type: application/json

{
  "sources": ["mayo_clinic", "webmd", "pubmed"],
  "limit": 1000,
  "languages": ["en", "ru"],
  "force_update": false
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π

```http
PUT /api/ai/admin/knowledge-base
Authorization: Bearer ADMIN_TOKEN
Content-Type: application/json

{
  "disease_name": "–≥—Ä–∏–ø–ø",
  "symptoms": ["–ª–∏—Ö–æ—Ä–∞–¥–∫–∞", "–∫–∞—à–µ–ª—å", "–≥–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å"],
  "treatments": ["–ø–æ–∫–æ–π", "–∂–∏–¥–∫–æ—Å—Ç—å", "–∂–∞—Ä–æ–ø–æ–Ω–∏–∂–∞—é—â–∏–µ"],
  "severity": "moderate"
}
```

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```http
GET /api/ai/admin/stats
Authorization: Bearer ADMIN_TOKEN
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "total_diagnoses": 1245,
    "avg_response_time": 2.3,
    "accuracy_metrics": {
      "symptom_detection": 0.87,
      "disease_prediction": 0.73
    },
    "model_status": {
      "symptom_classifier": "active",
      "disease_classifier": "active",
      "medical_transformer": "training"
    },
    "data_statistics": {
      "total_articles": 5420,
      "last_update": "2024-01-15T10:30:00Z",
      "sources_status": {
        "mayo_clinic": "active",
        "webmd": "active",
        "pubmed": "active"
      }
    }
  }
}
```

## üñ•Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤

#### 1. –î–æ—Å—Ç—É–ø –∫ AI –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ

```
1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –ø–∞—Ü–∏–µ–Ω—Ç
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "üß† AI –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —Å —Å–∏–º–ø—Ç–æ–º–∞–º–∏
4. –ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞
```

#### 2. –û–ø–∏—Å–∞–Ω–∏–µ —Å–∏–º–ø—Ç–æ–º–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**

- –û–ø–∏—à–∏—Ç–µ —Å–∏–º–ø—Ç–æ–º—ã –ø–æ–¥—Ä–æ–±–Ω–æ –∏ —Ç–æ—á–Ω–æ
- –£–∫–∞–∂–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–º–ø—Ç–æ–º–æ–≤
- –î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–æ–∑—Ä–∞—Å—Ç–µ –∏ –ø–æ–ª–µ
- –£–ø–æ–º—è–Ω–∏—Ç–µ —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã

**–•–æ—Ä–æ—à–∏–µ –ø—Ä–∏–º–µ—Ä—ã:**

```
"–£ –º–µ–Ω—è —Å–∏–ª—å–Ω–∞—è –≥–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å —Å –ª–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã —É–∂–µ 2 –¥–Ω—è. 
–ë–æ–ª—å —É—Å–∏–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —è—Ä–∫–æ–º —Å–≤–µ—Ç–µ. –¢–∞–∫–∂–µ –µ—Å—Ç—å —Ç–æ—à–Ω–æ—Ç–∞ –∏ 
—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –∑–≤—É–∫–∞–º."

"–ö–∞—à–µ–ª—å —Å –º–æ–∫—Ä–æ—Ç–æ–π –∑–µ–ª–µ–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ 38.5¬∞C, 
–±–æ–ª–∏—Ç –≥–æ—Ä–ª–æ –ø—Ä–∏ –≥–ª–æ—Ç–∞–Ω–∏–∏. –°–∏–º–ø—Ç–æ–º—ã –ø–æ—è–≤–∏–ª–∏—Å—å 3 –¥–Ω—è –Ω–∞–∑–∞–¥."
```

#### 3. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- **Detected Symptoms** - –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–∏–º–ø—Ç–æ–º—ã —Å —É—Ä–æ–≤–Ω–µ–º —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- **Possible Diseases** - –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é
- **Recommendations** - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–∞–ª—å–Ω–µ–π—à–∏–º –¥–µ–π—Å—Ç–≤–∏—è–º
- **Urgency Level** - –£—Ä–æ–≤–µ–Ω—å —Å—Ä–æ—á–Ω–æ—Å—Ç–∏ (low, medium, high, urgent)

### –î–ª—è –≤—Ä–∞—á–µ–π

#### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä AI –∞–Ω–∞–ª–∏–∑–æ–≤ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤

```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ AI –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞
patient_history = api.get(f'/api/ai/patient/{patient_id}/history')
```

#### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

```python
# –í—Ä–∞—á –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AI –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ –º–Ω–µ–Ω–∏—è
second_opinion = api.post('/api/ai/doctor/analyze', {
    'symptoms': patient_symptoms,
    'medical_history': patient_history,
    'doctor_notes': '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç –≤—Ä–∞—á–∞'
})
```

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

#### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –º–æ–¥–µ–ª–µ–π
curl -X GET "http://localhost:8000/api/ai/admin/stats" \
  -H "Authorization: Bearer ADMIN_TOKEN"
```

#### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
curl -X PUT "http://localhost:8000/api/ai/admin/knowledge-base" \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d @knowledge_update.json
```

#### 3. –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

```bash
# –ó–∞–ø—É—Å–∫ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è
curl -X POST "http://localhost:8000/api/ai/admin/train" \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "model_type": "all",
    "epochs": 10,
    "force_retrain": true
  }'
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

```python
from backend.ai_service.utils import PerformanceMonitor

monitor = PerformanceMonitor()

# –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
metrics = monitor.get_metrics()
print(f"–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: {metrics['avg_response_time']:.2f}s")
print(f"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: {metrics['memory_usage']:.1f}%")
print(f"–ó–∞–≥—Ä—É–∑–∫–∞ CPU: {metrics['cpu_usage']:.1f}%")
```

#### –¢–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–µ–π

```python
from backend.ai_service.utils import ModelEvaluator

evaluator = ModelEvaluator()

# –û—Ü–µ–Ω–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏
accuracy = evaluator.evaluate_all_models()
print(f"–¢–æ—á–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–∏–º–ø—Ç–æ–º–æ–≤: {accuracy['symptom_classifier']:.2f}")
print(f"–¢–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π: {accuracy['disease_classifier']:.2f}")
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–æ–≤

```python
import logging

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è AI —Å–µ—Ä–≤–∏—Å–∞
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('ai_service.log'),
        logging.StreamHandler()
    ]
)
```

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ AI —Å–µ—Ä–≤–∏—Å–∞
tail -f backend/logs/ai_service.log

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Ä–æ–≤–Ω—é
grep "ERROR" backend/logs/ai_service.log

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫
grep "diagnosis_request" backend/logs/ai_service.log | tail -10
```

### –ê–ª–µ—Ä—Ç—ã –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```python
from backend.ai_service.utils import AlertSystem

alert_system = AlertSystem()

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤
alert_system.set_threshold('response_time', 5.0)  # 5 —Å–µ–∫—É–Ω–¥
alert_system.set_threshold('error_rate', 0.1)     # 10% –æ—à–∏–±–æ–∫
alert_system.set_threshold('accuracy', 0.7)       # 70% —Ç–æ—á–Ω–æ—Å—Ç—å

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤
alerts = alert_system.check_alerts()
for alert in alerts:
    print(f"ALERT: {alert['message']}")
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –ú–æ–¥–µ–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –º–æ–¥–µ–ª–µ–π
ls -la backend/ai_service/models/

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥–µ–ª–µ–π
python -c "
from backend.ai_service.model_trainer import ModelTrainer
trainer = ModelTrainer()
trainer.download_pretrained_models()
"
```

#### 2. –ù–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π

```bash
# –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–∞–Ω–Ω—ã—Ö
python -c "
from backend.ai_service.model_trainer import ModelTrainer
trainer = ModelTrainer()
trainer.train_all_models(epochs=20, force_retrain=True)
"
```

#### 3. –ú–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç AI

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
top -p $(pgrep -f "python.*main.py")

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
python -c "
from backend.ai_service.utils import CacheManager
cache = CacheManager()
cache.clear_all()
"
```

#### 4. –û—à–∏–±–∫–∏ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```python
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º –¥–∞–Ω–Ω—ã—Ö
from backend.ai_service.data_collector import DataCollector

collector = DataCollector()
status = collector.test_all_sources()

for source, is_available in status.items():
    print(f"{source}: {'‚úì' if is_available else '‚úó'}")
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã

```python
from backend.ai_service.utils import SystemDiagnostics

diagnostics = SystemDiagnostics()

# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
report = diagnostics.run_full_check()
print(report)
```

#### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ—è

```bash
# –°–∫—Ä–∏–ø—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
python -c "
from backend.ai_service.utils import RecoveryManager
recovery = RecoveryManager()
recovery.recover_from_backup()
recovery.rebuild_indices()
recovery.validate_models()
"
```

### –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
import cProfile
import pstats
from backend.ai_service import AIService

# –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ AI —Å–µ—Ä–≤–∏—Å–∞
def profile_ai_service():
    ai = AIService()
    result = ai.analyze_symptoms('–≥–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞')
    return result

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è
profiler = cProfile.Profile()
profiler.enable()
result = profile_ai_service()
profiler.disable()

# –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
stats = pstats.Stats(profiler)
stats.sort_stats('cumulative')
stats.print_stats(10)
```

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏

```python
# backend/ai_service/models/new_model.py
class NewMedicalModel:
    def __init__(self):
        self.model = None
        self.tokenizer = None
    
    def load_model(self, model_path):
        # –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏
        pass
    
    def predict(self, input_data):
        # –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ
        pass
```

#### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º—É

```python
# backend/ai_service/inference.py
from .models.new_model import NewMedicalModel

class MedicalInference:
    def __init__(self):
        # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
        self.new_model = NewMedicalModel()
    
    def analyze_with_new_model(self, data):
        return self.new_model.predict(data)
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

#### 1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ DataCollector

```python
# backend/ai_service/data_collector.py
class DataCollector:
    def collect_new_source_data(self, url, limit=100):
        """–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ω–æ–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞"""
        articles = []
        
        try:
            response = self.session.get(url, timeout=10)
            response.raise_for_status()
            
            soup = BeautifulSoup(response.content, 'html.parser')
            # –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö
            
        except Exception as e:
            self.logger.error(f"–û—à–∏–±–∫–∞ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö: {e}")
        
        return articles
```

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```python
# backend/ai_service/config.py
DATA_SOURCES = {
    'new_source': {
        'url': 'https://example.com',
        'enabled': True,
        'rate_limit': 10,  # –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
        'headers': {'User-Agent': 'Medical-AI-Bot'}
    }
}
```

## üìä –û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤

```python
from backend.ai_service.analytics import ReportGenerator

generator = ReportGenerator()

# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á–µ—Ç
daily_report = generator.generate_daily_report()
print(daily_report)

# –û—Ç—á–µ—Ç –ø–æ —Ç–æ—á–Ω–æ—Å—Ç–∏
accuracy_report = generator.generate_accuracy_report()
print(accuracy_report)

# –û—Ç—á–µ—Ç –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
usage_report = generator.generate_usage_report()
print(usage_report)
```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```python
import matplotlib.pyplot as plt
from backend.ai_service.analytics import DataVisualizer

visualizer = DataVisualizer()

# –ì—Ä–∞—Ñ–∏–∫ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
visualizer.plot_accuracy_over_time()

# –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∏–∞–≥–Ω–æ–∑–æ–≤
visualizer.plot_diagnosis_distribution()

# –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ —Å–∏—Å—Ç–µ–º—ã
visualizer.plot_response_times()
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```dockerfile
# Dockerfile –¥–ª—è AI —Å–µ—Ä–≤–∏—Å–∞
FROM python:3.9-slim

WORKDIR /app

COPY requirements.txt .
COPY ai_service/requirements.txt ./ai_service/
RUN pip install -r requirements.txt
RUN pip install -r ai_service/requirements.txt

COPY . .

CMD ["python", "-m", "uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
```

### Kubernetes deployment

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ai-service
spec:
  replicas: 3
  selector:
    matchLabels:
      app: ai-service
  template:
    metadata:
      labels:
        app: ai-service
    spec:
      containers:
      - name: ai-service
        image: vrachiap/ai-service:latest
        ports:
        - containerPort: 8000
        env:
        - name: AI_MODEL_PATH
          value: "/app/models"
        resources:
          requests:
            memory: "2Gi"
            cpu: "500m"
          limits:
            memory: "4Gi"
            cpu: "1000m"
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```python
from backend.ai_service.security import InputValidator

validator = InputValidator()

# –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∏–º–ø—Ç–æ–º–æ–≤
is_valid = validator.validate_symptoms(symptoms_text)
if not is_valid:
    raise ValueError("–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–∏–º–ø—Ç–æ–º–æ–≤")

# –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
clean_input = validator.sanitize_input(user_input)
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞

```python
from backend.ai_service.security import RateLimiter

limiter = RateLimiter()

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
@limiter.limit("10 per minute")
def analyze_symptoms(user_id, symptoms):
    # –ê–Ω–∞–ª–∏–∑ —Å–∏–º–ø—Ç–æ–º–æ–≤
    pass
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **Email**: ai-support@vrachiap.com
- **Telegram**: @vrachiap_ai_support
- **GitHub Issues**: [–°–æ–∑–¥–∞—Ç—å issue](https://github.com/your-username/vrachiAP/issues)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **API Reference**: `http://localhost:8000/docs`
- **Swagger UI**: `http://localhost:8000/redoc`
- **AI Metrics**: `http://localhost:8000/api/ai/admin/stats`

---

**‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ**: 
–°–∏—Å—Ç–µ–º–∞ AI –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π –∏ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é. –í—Å–µ–≥–¥–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–π—Ç–µ—Å—å —Å –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –≤—Ä–∞—á–æ–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –ø–æ–º–æ—â–∏.

**üî¨ –î–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π**: 
–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É —Å–∏—Å—Ç–µ–º—É –≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ü–µ–ª—è—Ö, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –∏ –º–æ–¥–µ–ª—è–º. 